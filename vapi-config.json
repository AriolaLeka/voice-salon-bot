{
  "voice_settings": {
    "language": "en-US",
    "voice": "shimmer",
    "speed": 1
  },
  "system_prompt": "You are a helpful AI assistant for Hera's Nails & Lashes beauty salon in Valencia, Spain. You have access to the following functions:\n\n- searchServices: Search for specific services by name or category. Use this when customer asks about a specific service like \"manicure\", \"pedicure\", \"eyebrows\", \"eyelashes\", \"facial\" or general terms like \"servicios\", \"tratamientos\", \"belleza\", \"todo\" (Spanish) or \"services\", \"treatments\", \"beauty\", \"everything\" (English) (Examples: manicure, pedicure, eyebrows, eyelashes, facial, nails, cejas, pestañas, servicios, tratamientos, belleza, todo, services, treatments, beauty, everything)\n- getServices: Get all available services and categories. Use this when customer asks \"what services do you offer\", \"show me all services\", \"what do you do\" (Examples: )\n- getServiceCategory: Get detailed information about a specific service category. Use this when customer asks for details about a specific service type (Examples: )\n- getPopularServices: Get popular services and special packages. Use this when customer asks \"what are your most popular services\", \"do you have packages\", \"what are your best services\" (Examples: )\n- getServicesByPrice: Get services within a specific price range. Use this when customer asks \"what services do you have under X euros\", \"show me affordable services\" (Examples: )\n- getBusinessHours: Get business hours and current status. Use this when customer asks \"what are your hours\", \"are you open\", \"when do you close\", \"what time do you open\" (Examples: )\n- getWeeklyHours: Get full weekly schedule. Use this when customer asks \"what are your hours this week\", \"show me your schedule\", \"when are you open this week\" (Examples: )\n- getTodayHours: Get today's specific hours and current status. Use this when customer asks \"are you open today\", \"what time do you close today\" (Examples: )\n- getAllHours: Get complete business hours information. Use this when customer asks \"tell me all your hours\", \"what are your business hours\" (Examples: )\n- getLocation: Get business location and address. Use this when customer asks \"where are you located\", \"what's your address\", \"how do I get there\", \"where can I find you\" (Examples: )\n- getAddress: Get specific address information. Use this when customer asks \"what's your exact address\", \"where are you exactly\" (Examples: )\n- getDirections: Get directions and transport information. Use this when customer asks \"how do I get there\", \"what's the best way to get there\", \"is it easy to find\" (Examples: )\n- getTransportInfo: Get public transport information. Use this when customer asks \"how do I get there by bus\", \"is there a metro nearby\", \"what transport options do I have\" (Examples: )\n- getParkingInfo: Get parking information. Use this when customer asks \"is there parking\", \"where can I park\", \"do you have parking\" (Examples: )\n- getLocationSummary: Get complete location summary with transport and parking. Use this when customer asks \"tell me about your location\", \"how do I get to your salon\" (Examples: )\n- parseAppointmentDateTime: Parse date and time from natural language for appointment booking. Use this first when customer wants to book an appointment (Examples: tomorrow at 2 PM, Friday at 10 AM, next Monday at 3:30 PM, mañana a las 2, el viernes a las 10)\n- bookAppointment: Book an appointment with parsed date, time, and customer information. Use this after parsing date/time and collecting customer details (Examples: )\n- getAvailableTimes: Get available appointment times for a specific date. Use this when customer asks \"what times do you have available\", \"when can I come in\" (Examples: )\n- getWelcomeMessage: Get welcome message and business overview. Use this for greetings or when customer asks \"tell me about your business\", \"what do you do\" (Examples: )\n- getAboutInfo: Get detailed business information and service summary. Use this when customer asks \"what do you do\", \"tell me more about your salon\" (Examples: )\n- getServicesOverview: Get comprehensive services overview with categories and pricing. Use this when customer asks \"what services do you offer\", \"tell me about your services\" (Examples: )\n- getContactInfo: Get complete contact information including address, hours, and transport. Use this when customer asks \"how can I contact you\", \"what's your contact information\" (Examples: )\n- getBusinessStatus: Get current business status (open/closed) and today's information. Use this when customer asks \"are you open\", \"what's your status today\" (Examples: )\n\nCRITICAL RULES:\n1. ALWAYS use the voice_response field from API responses when available\n2. NEVER call multiple functions for the same request\n3. For service inquiries:\n   - Use searchServices for specific services (e.g., \"manicure\", \"pedicure\", \"eyebrows\", \"eyelashes\")\n   - Use getServices for general overview (\"what services do you offer\")\n   - Use getPopularServices for popular services and packages\n   - Use getServicesByPrice for budget-related questions\n4. For appointment bookings:\n   - First call parseAppointmentDateTime to understand the request\n   - Then call bookAppointment with all required details (name, service, email)\n   - ALWAYS ask for email address to send reminders\n5. For hours/location: Use getBusinessHours, getLocation, or getLocationSummary as appropriate\n6. For general info: Use getWelcomeMessage, getAboutInfo, or getContactInfo\n7. Respond naturally and conversationally\n8. If a function returns an error, apologize and ask the user to try again\n9. Always detect language preference from the conversation and pass it to functions\n\nLANGUAGE DETECTION:\n- If customer speaks Spanish, set lang=es\n- If customer speaks English, set lang=en\n- Default to lang=en if unsure\n\nTYPICAL CUSTOMER QUESTIONS:\n- \"What services do you offer?\" → getServices\n- \"Tell me about manicures\" → searchServices with \"manicure\"\n- \"What are your hours?\" → getBusinessHours\n- \"Where are you located?\" → getLocation\n- \"I want to book an appointment\" → parseAppointmentDateTime then bookAppointment\n- \"What are your most popular services?\" → getPopularServices\n- \"Do you have parking?\" → getParkingInfo\n- \"How do I get there?\" → getDirections or getTransportInfo",
  "initial_message": "Hello! Welcome to Hera's Nails & Lashes beauty salon in Valencia. I'm here to help you with our services, hours, location, and appointments. How can I assist you today?",
  "conversation_end_message": "Thank you for calling Hera's Nails & Lashes. Have a wonderful day!",
  "external_functions": [
    {
      "name": "searchServices",
      "description": "Search for specific services by name or category. Use this when customer asks about a specific service like \"manicure\", \"pedicure\", \"eyebrows\", \"eyelashes\", \"facial\" or general terms like \"servicios\", \"tratamientos\", \"belleza\", \"todo\" (Spanish) or \"services\", \"treatments\", \"beauty\", \"everything\" (English)",
      "url": "https://voice-salon-bot.onrender.com/api/services/search",
      "method": "GET",
      "parameters": {
        "query": {
          "type": "string",
          "description": "Search term (e.g., \"manicure\", \"pedicure\", \"eyebrows\", \"eyelashes\", \"facial\", \"nails\", \"servicios\", \"tratamientos\", \"belleza\", \"todo\", \"services\", \"treatments\", \"beauty\", \"everything\")"
        },
        "lang": {
          "type": "string",
          "description": "Language preference (en/es)",
          "required": false
        }
      },
      "examples": [
        "manicure",
        "pedicure",
        "eyebrows",
        "eyelashes",
        "facial",
        "nails",
        "cejas",
        "pestañas",
        "servicios",
        "tratamientos",
        "belleza",
        "todo",
        "services",
        "treatments",
        "beauty",
        "everything"
      ]
    },
    {
      "name": "getServices",
      "description": "Get all available services and categories. Use this when customer asks \"what services do you offer\", \"show me all services\", \"what do you do\"",
      "url": "https://voice-salon-bot.onrender.com/api/services",
      "method": "GET",
      "parameters": {
        "lang": {
          "type": "string",
          "description": "Language preference (en/es)",
          "required": false
        }
      },
      "examples": []
    },
    {
      "name": "getServiceCategory",
      "description": "Get detailed information about a specific service category. Use this when customer asks for details about a specific service type",
      "url": "https://voice-salon-bot.onrender.com/api/services/category",
      "method": "GET",
      "parameters": {
        "category": {
          "type": "string",
          "description": "Service category (e.g., \"manicuras\", \"pedicuras\", \"cejas\")"
        },
        "lang": {
          "type": "string",
          "description": "Language preference (en/es)",
          "required": false
        }
      },
      "examples": []
    },
    {
      "name": "getPopularServices",
      "description": "Get popular services and special packages. Use this when customer asks \"what are your most popular services\", \"do you have packages\", \"what are your best services\"",
      "url": "https://voice-salon-bot.onrender.com/api/services/popular",
      "method": "GET",
      "parameters": {
        "lang": {
          "type": "string",
          "description": "Language preference (en/es)",
          "required": false
        }
      },
      "examples": []
    },
    {
      "name": "getServicesByPrice",
      "description": "Get services within a specific price range. Use this when customer asks \"what services do you have under X euros\", \"show me affordable services\"",
      "url": "https://voice-salon-bot.onrender.com/api/services/price-range",
      "method": "GET",
      "parameters": {
        "min": {
          "type": "string",
          "description": "Minimum price in euros"
        },
        "max": {
          "type": "string",
          "description": "Maximum price in euros"
        },
        "lang": {
          "type": "string",
          "description": "Language preference (en/es)",
          "required": false
        }
      },
      "examples": []
    },
    {
      "name": "getBusinessHours",
      "description": "Get business hours and current status. Use this when customer asks \"what are your hours\", \"are you open\", \"when do you close\", \"what time do you open\"",
      "url": "https://voice-salon-bot.onrender.com/api/hours/status",
      "method": "GET",
      "parameters": {
        "lang": {
          "type": "string",
          "description": "Language preference (en/es)",
          "required": false
        }
      },
      "examples": []
    },
    {
      "name": "getWeeklyHours",
      "description": "Get full weekly schedule. Use this when customer asks \"what are your hours this week\", \"show me your schedule\", \"when are you open this week\"",
      "url": "https://voice-salon-bot.onrender.com/api/hours/week",
      "method": "GET",
      "parameters": {
        "lang": {
          "type": "string",
          "description": "Language preference (en/es)",
          "required": false
        }
      },
      "examples": []
    },
    {
      "name": "getTodayHours",
      "description": "Get today's specific hours and current status. Use this when customer asks \"are you open today\", \"what time do you close today\"",
      "url": "https://voice-salon-bot.onrender.com/api/hours/today",
      "method": "GET",
      "parameters": {},
      "examples": []
    },
    {
      "name": "getAllHours",
      "description": "Get complete business hours information. Use this when customer asks \"tell me all your hours\", \"what are your business hours\"",
      "url": "https://voice-salon-bot.onrender.com/api/hours",
      "method": "GET",
      "parameters": {},
      "examples": []
    },
    {
      "name": "getLocation",
      "description": "Get business location and address. Use this when customer asks \"where are you located\", \"what's your address\", \"how do I get there\", \"where can I find you\"",
      "url": "https://voice-salon-bot.onrender.com/api/location",
      "method": "GET",
      "parameters": {
        "lang": {
          "type": "string",
          "description": "Language preference (en/es)",
          "required": false
        }
      },
      "examples": []
    },
    {
      "name": "getAddress",
      "description": "Get specific address information. Use this when customer asks \"what's your exact address\", \"where are you exactly\"",
      "url": "https://voice-salon-bot.onrender.com/api/location/address",
      "method": "GET",
      "parameters": {},
      "examples": []
    },
    {
      "name": "getDirections",
      "description": "Get directions and transport information. Use this when customer asks \"how do I get there\", \"what's the best way to get there\", \"is it easy to find\"",
      "url": "https://voice-salon-bot.onrender.com/api/location/directions",
      "method": "GET",
      "parameters": {},
      "examples": []
    },
    {
      "name": "getTransportInfo",
      "description": "Get public transport information. Use this when customer asks \"how do I get there by bus\", \"is there a metro nearby\", \"what transport options do I have\"",
      "url": "https://voice-salon-bot.onrender.com/api/location/transport",
      "method": "GET",
      "parameters": {},
      "examples": []
    },
    {
      "name": "getParkingInfo",
      "description": "Get parking information. Use this when customer asks \"is there parking\", \"where can I park\", \"do you have parking\"",
      "url": "https://voice-salon-bot.onrender.com/api/location/parking",
      "method": "GET",
      "parameters": {},
      "examples": []
    },
    {
      "name": "getLocationSummary",
      "description": "Get complete location summary with transport and parking. Use this when customer asks \"tell me about your location\", \"how do I get to your salon\"",
      "url": "https://voice-salon-bot.onrender.com/api/location/summary",
      "method": "GET",
      "parameters": {
        "lang": {
          "type": "string",
          "description": "Language preference (en/es)",
          "required": false
        }
      },
      "examples": []
    },
    {
      "name": "parseAppointmentDateTime",
      "description": "Parse date and time from natural language for appointment booking. Use this first when customer wants to book an appointment",
      "url": "https://voice-salon-bot.onrender.com/api/appointments/parse-datetime",
      "method": "POST",
      "parameters": {
        "text": {
          "type": "string",
          "description": "Natural language text containing date and time (e.g., \"tomorrow at 2 PM\", \"Friday at 10 AM\")"
        },
        "lang": {
          "type": "string",
          "description": "Language preference (en/es)",
          "required": false
        }
      },
      "examples": [
        "tomorrow at 2 PM",
        "Friday at 10 AM",
        "next Monday at 3:30 PM",
        "mañana a las 2",
        "el viernes a las 10"
      ]
    },
    {
      "name": "bookAppointment",
      "description": "Book an appointment with parsed date, time, and customer information. Use this after parsing date/time and collecting customer details",
      "url": "https://voice-salon-bot.onrender.com/api/appointments/book",
      "method": "POST",
      "parameters": {
        "dateTimeText": {
          "type": "string",
          "description": "Natural language date and time (e.g., \"tomorrow at 2 PM\")"
        },
        "customerName": {
          "type": "string",
          "description": "Customer name"
        },
        "service": {
          "type": "string",
          "description": "Service requested (e.g., \"manicure\", \"pedicure\", \"eyebrows\")"
        },
        "voiceEmail": {
          "type": "string",
          "description": "Email address for reminders (e.g., \"john at gmail dot com\")"
        },
        "phone": {
          "type": "string",
          "description": "Phone number (optional)",
          "required": false
        },
        "lang": {
          "type": "string",
          "description": "Language preference (en/es)",
          "required": false
        }
      },
      "examples": []
    },
    {
      "name": "getAvailableTimes",
      "description": "Get available appointment times for a specific date. Use this when customer asks \"what times do you have available\", \"when can I come in\"",
      "url": "https://voice-salon-bot.onrender.com/api/appointments/available-times",
      "method": "GET",
      "parameters": {
        "date": {
          "type": "string",
          "description": "Date in YYYY-MM-DD format"
        },
        "lang": {
          "type": "string",
          "description": "Language preference (en/es)",
          "required": false
        }
      },
      "examples": []
    },
    {
      "name": "getWelcomeMessage",
      "description": "Get welcome message and business overview. Use this for greetings or when customer asks \"tell me about your business\", \"what do you do\"",
      "url": "https://voice-salon-bot.onrender.com/api/general/welcome",
      "method": "GET",
      "parameters": {
        "lang": {
          "type": "string",
          "description": "Language preference (en/es)",
          "required": false
        }
      },
      "examples": []
    },
    {
      "name": "getAboutInfo",
      "description": "Get detailed business information and service summary. Use this when customer asks \"what do you do\", \"tell me more about your salon\"",
      "url": "https://voice-salon-bot.onrender.com/api/general/about",
      "method": "GET",
      "parameters": {
        "lang": {
          "type": "string",
          "description": "Language preference (en/es)",
          "required": false
        }
      },
      "examples": []
    },
    {
      "name": "getServicesOverview",
      "description": "Get comprehensive services overview with categories and pricing. Use this when customer asks \"what services do you offer\", \"tell me about your services\"",
      "url": "https://voice-salon-bot.onrender.com/api/general/services-overview",
      "method": "GET",
      "parameters": {},
      "examples": []
    },
    {
      "name": "getContactInfo",
      "description": "Get complete contact information including address, hours, and transport. Use this when customer asks \"how can I contact you\", \"what's your contact information\"",
      "url": "https://voice-salon-bot.onrender.com/api/general/contact",
      "method": "GET",
      "parameters": {},
      "examples": []
    },
    {
      "name": "getBusinessStatus",
      "description": "Get current business status (open/closed) and today's information. Use this when customer asks \"are you open\", \"what's your status today\"",
      "url": "https://voice-salon-bot.onrender.com/api/general/status",
      "method": "GET",
      "parameters": {},
      "examples": []
    }
  ]
}